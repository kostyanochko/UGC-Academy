const accordionInit=()=>{const details=document.querySelectorAll("details.ui-spoiler");details.forEach(detail=>{const summary=detail.querySelector("summary"),contentWrapper=detail.querySelector(".ui-spoiler__content-wrapper");detail.hasAttribute("open")&&contentWrapper&&(contentWrapper.style.maxHeight="none"),summary.addEventListener("click",e=>{if(e.preventDefault(),detail.open)contentWrapper&&(contentWrapper.style.maxHeight="0"),setTimeout(()=>detail.removeAttribute("open"),300);else if(detail.setAttribute("open",""),contentWrapper){contentWrapper.style.maxHeight="none";const contentHeight=contentWrapper.scrollHeight;contentWrapper.style.maxHeight="0",requestAnimationFrame(()=>{contentWrapper.style.maxHeight=`${contentHeight}px`})}})})};document.addEventListener("DOMContentLoaded",accordionInit);